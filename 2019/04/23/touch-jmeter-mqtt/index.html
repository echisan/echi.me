

<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <title>jmeter-mqtt基础使用 - EchisanBlog</title>
<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="author" content="John Doe">
<meta name="description" content="jmeter-mqtt使用安装mqtt的测试需要添加一个插件，下载地址在这https://github.com/e...">
<meta name="keywords" content="">

    <meta charset="utf-8">
    <meta name="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="telephone=no" name="format-detection">
    <meta name="renderer" content="webkit">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
<link rel="stylesheet" href="/css/journal.css?62696495">

<script src="/js/loadCSS.js"></script>
<script>
    loadCSS("https://fonts.googleapis.com/css?family=Lora|Montserrat|Fira+Mono|Material+Icons");
    (function (d) {
        var config = {
                kitId: 'dwg1tuc',
                scriptTimeout: 3000,
                async: true
            },
            h = d.documentElement, t = setTimeout(function () {
                h.className = h.className.replace(/\bwf-loading\b/g, "") + " wf-inactive";
            }, config.scriptTimeout), tk = d.createElement("script"), f = false,
            s = d.getElementsByTagName("script")[0], a;
        h.className += " wf-loading";
        tk.src = 'https://use.typekit.net/' + config.kitId + '.js';
        tk.async = true;
        tk.onload = tk.onreadystatechange = function () {
            a = this.readyState;
            if (f || a && a != "complete" && a != "loaded") return;
            f = true;
            clearTimeout(t);
            try {
                Typekit.load(config)
            } catch (e) {
            }
        };
        s.parentNode.insertBefore(tk, s)
    })(document);
</script>
<noscript>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lora|Montserrat|Anonymous+Pro:400|Material+Icons"/>
</noscript>
<meta name="generator" content="Hexo 5.3.0"><link rel="alternate" href="/atom.xml" title="EchisanBlog" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>
<body>
<div id="top"></div>
<div id="app">
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            <a class="a-block drawer-menu-item false" href="http://example.com">
                Home
            </a>
            

            
            
            <a class="a-block drawer-menu-item false" href="/about/index.html">
                关于我
            </a>
            
            <a class="a-block drawer-menu-item false" href="/search/index.html">
                search
            </a>
            
            <a class="a-block drawer-menu-item false" href="/tags/index.html">
                tags
            </a>
            

            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="/">
            EchisanBlog
        </a>
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="/">
        <div class="single-column-header-title">EchisanBlog</div>
        <div class="single-column-header-subtitle"></div>
    </a>
</div>
<div ref="sideContainer" class="side-container">
    <a class="a-block nav-head false" href="/">
        <div class="nav-title">
            Echisan.
        </div>
        <div class="nav-subtitle">
            吃西瓜不吐籽
        </div>
    </a>

    <div class="nav-link-list">
        

        
        
        <a class="a-block nav-link-item false" href="/about/index.html">
            关于我
        </a>
        
        <a class="a-block nav-link-item false" href="/search/index.html">
            search
        </a>
        
        <a class="a-block nav-link-item false" href="/tags/index.html">
            tags
        </a>
        

        
    </div>

    
    <div class="nav-footer">
        Proudly published with Hexo<br>
        
        Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
        
        &copy; 2021 <a href="http://example.com">EchisanBlog</a>
    </div>
</div>
<div ref="extraContainer" class="extra-container">
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>

        
    </div>
</div>



<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            <div class="post-head-wrapper-text-only"
                 style="background-image: url('')">
                <div class="post-title">
                    jmeter-mqtt基础使用
                    <div class="post-meta">
                        <time datetime="2019-04-23T10:24:14.000Z" itemprop="datePublished">
                            2019-04-23 18:24
                        </time>&nbsp;
                        
    
                        
                        
                        <i class="material-icons" style="">label</i>
                        
                        <a href='/tags/jmeter/'>jmeter</a>, 
                        
                        <a href='/tags/Matt/'>Matt</a>
                        
                        
                    </div>
                </div>
            </div>
    
            <div class="post-body-wrapper">
                <div class="post-body">
                    <h2 id="jmeter-mqtt使用"><a href="#jmeter-mqtt使用" class="headerlink" title="jmeter-mqtt使用"></a>jmeter-mqtt使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>mqtt的测试需要添加一个插件，下载地址在这<a target="_blank" rel="noopener" href="https://github.com/emqx/mqtt-jmeter">https://github.com/emqx/mqtt-jmeter</a></p>
<p>安装也很简单，将下载好的文件放到<code>$JMETER_HOME/lib/ext</code>下即可，重启之后即可看到如图红色框框中的内容</p>
<p><img src="https://ws2.sinaimg.cn/large/7fa15162gy1g2cmbe3x61j20n40ej42e.jpg" alt="image"></p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>里面一些配置项说明直接复制过来了，下面的小标题对应着gui中各个位置的说明</p>
<p>MQTT Connection</p>
<blockquote>
<p>This section includes basic connection settings.</p>
<ul>
<li><strong>Server name or IP</strong>: The MQTT target to be tested. It can be either IP address or server name. The default value is 127.0.0.1. <strong>DO NOT</strong> add protocol (e.g. tcp:// or ssl://) before server name or IP address!</li>
<li><strong>Port number</strong>: The port opened by MQTT server. Typically 1883 is for TCP protocol, and 8883 for SSL protocol.</li>
<li><strong>MQTT version</strong>: The MQTT version, default is 3.1, and another option is 3.1.1. Sometimes we found version 3.1.1 is required to establish connection to <a target="_blank" rel="noopener" href="https://github.com/emqtt/mqtt-jmeter/issues/21">Azure IoTHub</a>.</li>
<li><strong>Timeout(s)</strong>: The connection timeout seconds while connecting to MQTT server. The default is 10 seconds.</li>
</ul>
</blockquote>
<p>MQTT Protocol</p>
<blockquote>
<p>The sampler supports 2 protocols, TCP and SSL. For SSL protocol, it includes normal SSL and dual SSL authentication.</p>
<p>If <strong>‘Dual SSL authentication’</strong> is checked, please follow ‘Certification files for SSL/TLS connections’ at end of this doc to set the client SSL configuration properly.</p>
</blockquote>
<p><img src="https://ws3.sinaimg.cn/mw690/7fa15162gy1g2cpectvl2j20v603ymxb.jpg" alt="image"></p>
<p>User authentication</p>
<blockquote>
<p>User can configure MQTT server with user name &amp; password authentication, refer to <a target="_blank" rel="noopener" href="http://emqtt.com/docs/v2/guide.html#id3">EMQ user name and password authentication guide</a>.</p>
<ul>
<li><strong>User name</strong>: If MQTT server is configured with user name, then specify user name here.</li>
<li><strong>Password</strong>: If MQTT server is configured with password, then specify password here.</li>
</ul>
</blockquote>
<p>Connection options</p>
<blockquote>
<ul>
<li><strong>ClientId</strong>: Identification of the client, i.e. virtual user or JMeter thread. Default value is ‘conn_’. If ‘Add random client id suffix’ is selected, JMeter plugin will append generated uuid as suffix to represent the client, otherwise, the text of ‘ClientId’ will be passed as ‘clientId’ of current connection.</li>
<li><strong>Keep alive(s)</strong>: Ping packet send interval in seconds. Default value is 300, which means each connection sends a ping packet to MQTT server every 5 minutes.</li>
<li><strong>Connect attampt max</strong>: The maximum number of reconnect attempts before an error is reported back to the client on the first attempt by the client to connect to a server. Set to -1 to use unlimited attempts. Defaults to 0.</li>
<li><strong>Reconnect attampt max</strong>: The maximum number of reconnect attempts before an error is reported back to the client after a server connection had previously been established. Set to -1 to use unlimited attempts. Defaults to 0.</li>
<li><strong>Clean session</strong>: If you want to maintain state information between sessions, set it to false; otherwise, set it to true.</li>
</ul>
</blockquote>
<h3 id="connect"><a href="#connect" class="headerlink" title="connect"></a>connect</h3>
                </div>
            </div>
    
            <nav class="post-pagination">
    
    <a class="newer-posts" href="/2019/04/24/jmeter-influxdb-chronograf-grafana/">
        Previous post<br>influxdb-chronograf-grafana实现jmeter测试结果可视化
    </a>
    
    <span class="page-number"></span>
    
    <a class="older-posts" href="/2019/04/23/touch-jmeter/">
        Next post<br>jmeter入门使用
    </a>
    
</nav>

    
            


        </div>
    </div>
    <div class="single-column-footer">
    Proudly published with Hexo<br>
    
    Theme <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> by <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a><br>
    
    &copy; 2021 <a href="http://example.com">EchisanBlog</a>
</div>
</div>

</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"
        integrity="sha256-EGs9T1xMHdvM1geM8jPpoo8EZ1V1VRsmcJz8OByENLA=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"
        integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.min.js"
        integrity="sha256-FtWfRI+thWlNz2sB3SJbwKx5PgMyKIVgwHCTwa3biXc=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@14.2.1/dist/smooth-scroll.polyfills.min.js"
        integrity="sha256-CI4Gq5E0io1Pv0xM3qPM+NUIOhbIBvC3GiN1Y4KhXpw=" crossorigin="anonymous"></script>
<script src="/js/journal.js?58674304"></script>



</body>
</html>
